generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model AppSetting {
  key       String   @id @db.VarChar(64)
  value     Json
  updatedAt DateTime @default(now()) @updatedAt @db.Timestamp(0)
}

model CombineScore {
  id                Int     @id @default(autoincrement())
  fortyTime         Float?  @db.Float
  tenYardSplit      Float?  @db.Float
  twentyYardShuttle Float?  @db.Float
  threeCone         Float?  @db.Float
  verticalLeap      Float?  @db.Float
  playerId          Int?
  broadJump         Float?  @db.Float
  Player            Player? @relation(fields: [playerId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_Combine_Score_1")

  @@index([playerId], map: "fk_Combine_Score_1_idx")
}

model DraftPick {
  id                                       Int        @id @default(autoincrement())
  round                                    Int
  pickNumber                               Int
  draftYear                                Int
  currentTeamId                            Int
  prospectId                               Int?
  playerId                                 Int?
  used                                     Boolean    @default(false)
  createdAt                                DateTime?  @default(now()) @db.Timestamp(0)
  updatedAt                                DateTime?  @default(now()) @db.Timestamp(0)
  originalTeam                             Int?
  position                                 String?    @db.VarChar(45)
  college                                  String?    @db.VarChar(255)
  Team                                     Team       @relation(fields: [currentTeamId], references: [id], map: "fk_DraftPick_CurrentTeam")
  Player                                   Player?    @relation(fields: [playerId], references: [id], map: "fk_DraftPick_Player")
  Prospect_DraftPick_prospectIdToProspect  Prospect?  @relation("DraftPick_prospectIdToProspect", fields: [prospectId], references: [id], map: "fk_DraftPick_Prospect")
  Prospect_Prospect_draftPickIdToDraftPick Prospect[] @relation("Prospect_draftPickIdToDraftPick")

  @@unique([draftYear, round, pickNumber], map: "unique_draft_pick")
  @@index([playerId], map: "fk_DraftPick_Player_idx")
  @@index([prospectId], map: "fk_DraftPick_Prospect_idx")
  @@index([currentTeamId, draftYear], map: "idx_draftpick_currentteam")
  @@index([draftYear], map: "idx_draftpick_originalteam")
  @@index([used], map: "idx_draftpick_used")
}

model Game {
  id                Int             @id @default(autoincrement())
  seasonYear        String          @db.VarChar(4)
  gameWeek          Int?            @db.TinyInt
  preseason         Int?            @db.TinyInt
  gameDate          DateTime?       @db.DateTime(0)
  homeTeamId        Int
  awayTeamId        Int
  gameLocation      String?         @db.VarChar(255)
  gameCity          String?         @db.VarChar(100)
  gameStateProvince String?         @db.VarChar(100)
  gameCountry       String          @default("USA") @db.VarChar(50)
  homeScore         Int?            @default(0)
  awayScore         Int?            @default(0)
  gameStatus        Game_gameStatus @default(scheduled)
  createdAt         DateTime?       @default(now()) @db.Timestamp(0)
  updatedAt         DateTime?       @default(now()) @db.Timestamp(0)
  espnEventId       String?         @unique @db.VarChar(255)
  espnCompetitionId String?         @unique @db.VarChar(255)
  homeTeam          Team            @relation("Game_homeTeamIdToTeam", fields: [homeTeamId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "Game_ibfk_1")
  awayTeam          Team            @relation("Game_awayTeamIdToTeam", fields: [awayTeamId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "Game_ibfk_2")

  @@unique([seasonYear, gameDate, homeTeamId, awayTeamId], map: "unique_game")
  @@index([awayTeamId], map: "awayTeamId")
  @@index([homeTeamId], map: "homeTeamId")
}

model Person {
  pid          Int    @id @default(autoincrement())
  userName     String @db.VarChar(25)
  emailAddress String @db.VarChar(75)
  password     String @db.VarChar(25)
  firstName    String @db.VarChar(25)
  lastName     String @db.VarChar(35)
}

model Player {
  id                Int            @id @default(autoincrement())
  espnAthleteId     String?        @unique(map: "espnAthleteId") @db.VarChar(50)
  firstName         String         @db.VarChar(45)
  lastName          String         @db.VarChar(45)
  age               Int
  height            Float?         @db.Float
  weight            Float?         @db.Float
  handSize          Float?         @db.Float
  armLength         Float?         @db.Float
  homeCity          String?        @db.VarChar(45)
  homeState         String?        @db.VarChar(45)
  university        String?        @db.VarChar(75)
  status            String?        @db.VarChar(45)
  position          String?        @db.VarChar(75)
  pickId            Int?
  combineScoreId    Int?
  prospectId        Int?
  yearEnteredLeague Int?           @db.Year
  CombineScore      CombineScore[]
  DraftPick         DraftPick[]
  Prospect          Prospect?      @relation(fields: [prospectId], references: [id], map: "fk_Player_Prospect")
  PlayerAward       PlayerAward[]
  PlayerTeam        PlayerTeam[]

  @@index([prospectId], map: "fk_Player_Prospect")
  @@index([espnAthleteId], map: "idx_Player_espnAthleteId")
}

model PlayerAward {
  id          Int     @id @default(autoincrement())
  playerId    Int
  awardName   String? @db.VarChar(45)
  yearAwarded Int?
  Player      Player  @relation(fields: [playerId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_Player_Awards")

  @@index([playerId], map: "FK_Player_Awards_idx")
}

model PlayerTeam {
  id             Int     @id @default(autoincrement())
  playerId       Int
  teamId         Int
  currentTeam    Boolean @default(false)
  jerseyNumber   Int?
  contractValue  Int?
  contractLength Int?
  startYear      Int?
  endYear        Int?
  isActive       Int?    @db.TinyInt
  Player         Player  @relation(fields: [playerId], references: [id], onDelete: Cascade, map: "fk_PlayerTeam_Player")
  Team           Team    @relation(fields: [teamId], references: [id], onDelete: Cascade, map: "fk_PlayerTeam_Team")

  @@index([playerId], map: "fk_PlayerTeam_Player_idx")
  @@index([teamId], map: "fk_PlayerTeam_Team_idx")
}

model PostSeasonResult {
  id               Int     @id @default(autoincrement())
  playoffYear      Int?    @db.Year
  lastRoundReached String? @db.VarChar(45)
  winLose          String? @db.VarChar(1)
  opponentScore    Int?
  teamScore        Int?
  teamId           Int?
  Team             Team?   @relation(fields: [teamId], references: [id], onDelete: Restrict, onUpdate: Restrict, map: "fk_Team")

  @@index([teamId], map: "fk_Team_idx")
}

model Prospect {
  id                                        Int         @id @default(autoincrement())
  firstName                                 String      @db.VarChar(45)
  lastName                                  String      @db.VarChar(45)
  position                                  String      @db.VarChar(10)
  college                                   String      @db.VarChar(75)
  height                                    Float       @db.Float
  weight                                    Float       @db.Float
  handSize                                  Float?      @db.Float
  armLength                                 Float?      @db.Float
  homeCity                                  String?     @db.VarChar(45)
  homeState                                 String?     @db.VarChar(45)
  fortyTime                                 Float?      @db.Float
  tenYardSplit                              Float?      @db.Float
  verticalLeap                              Float?      @db.Float
  broadJump                                 Float?      @db.Float
  threeCone                                 Float?      @db.Float
  twentyYardShuttle                         Float?      @db.Float
  benchPress                                Int?
  drafted                                   Boolean     @default(false)
  draftYear                                 Int?        @db.Year
  teamId                                    Int?
  draftPickId                               Int?
  createdAt                                 DateTime?   @default(now()) @db.Timestamp(0)
  updatedAt                                 DateTime?   @default(now()) @db.Timestamp(0)
  DraftPick_DraftPick_prospectIdToProspect  DraftPick[] @relation("DraftPick_prospectIdToProspect")
  Player                                    Player[]
  DraftPick_Prospect_draftPickIdToDraftPick DraftPick?  @relation("Prospect_draftPickIdToDraftPick", fields: [draftPickId], references: [id], map: "fk_Prospect_DraftPick")
  Team                                      Team?       @relation(fields: [teamId], references: [id], map: "fk_Prospect_Team")

  @@index([draftPickId], map: "fk_Prospect_DraftPick")
  @@index([teamId], map: "fk_Prospect_Team_idx")
  @@index([college], map: "idx_prospect_college")
  @@index([drafted], map: "idx_prospect_drafted")
  @@index([lastName, firstName], map: "idx_prospect_name")
  @@index([position], map: "idx_prospect_position")
}

model Schedule {
  id                            Int       @id @default(autoincrement())
  teamId                        Int?
  seasonYear                    Int?      @db.Year
  oppTeamId                     Int
  oppTeamConference             String?   @db.VarChar(45)
  oppTeamDivision               String?   @db.VarChar(45)
  scheduleWeek                  Int?
  gameDate                      DateTime? @db.Date
  gameCity                      String?   @db.VarChar(45)
  gameStateProvince             String?   @db.VarChar(45)
  gameCountry                   String?   @db.VarChar(45)
  gameLocation                  String?   @db.VarChar(75)
  wonLostFlag                   String?   @db.VarChar(1)
  homeOrAway                    String?   @db.VarChar(1)
  oppTeamScore                  Int?
  teamScore                     Int?
  Team_Schedule_teamIdToTeam    Team?     @relation("Schedule_teamIdToTeam", fields: [teamId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_Schedule_Team")
  Team_Schedule_oppTeamIdToTeam Team      @relation("Schedule_oppTeamIdToTeam", fields: [oppTeamId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_Schedule_Visitor")

  @@index([oppTeamId], map: "fk_Schedule_1_idx")
  @@index([teamId], map: "fk_Schedule_Team_idx")
}

model Team {
  id                                Int                @id @default(autoincrement())
  name                              String             @unique(map: "uq_team_name") @db.VarChar(45)
  city                              String?            @db.VarChar(45)
  state                             String?            @db.VarChar(45)
  conference                        String?            @db.VarChar(35)
  division                          String?            @db.VarChar(20)
  stadium                           String?            @db.VarChar(45)
  scheduleId                        Int?
  abbreviation                      String?            @unique(map: "abbreviation") @db.VarChar(255)
  espnTeamId                        Int?               @unique(map: "espnTeamId")
  DraftPick                         DraftPick[]
  Game_Game_homeTeamIdToTeam        Game[]             @relation("Game_homeTeamIdToTeam")
  Game_Game_awayTeamIdToTeam        Game[]             @relation("Game_awayTeamIdToTeam")
  PlayerTeam                        PlayerTeam[]
  PostSeasonResult                  PostSeasonResult[]
  Prospect                          Prospect[]
  Schedule_Schedule_teamIdToTeam    Schedule[]         @relation("Schedule_teamIdToTeam")
  Schedule_Schedule_oppTeamIdToTeam Schedule[]         @relation("Schedule_oppTeamIdToTeam")
  TeamNeed                          TeamNeed[]
}

model TeamNeed {
  id        Int       @id @default(autoincrement())
  teamId    Int
  position  String    @db.VarChar(10)
  priority  Int       @default(1)
  createdAt DateTime? @default(now()) @db.Timestamp(0)
  updatedAt DateTime? @default(now()) @db.Timestamp(0)
  draftYear Int?      @db.Year
  Team      Team      @relation(fields: [teamId], references: [id], onDelete: Cascade, map: "fk_TeamNeed_Team")

  @@unique([teamId, position], map: "unique_team_position")
  @@index([teamId], map: "fk_TeamNeed_Team_idx")
}

model Roles {
  rid         Int       @id @default(autoincrement())
  roleName    String    @unique(map: "roleName") @db.VarChar(25)
  description String?   @db.VarChar(100)
  isActive    Boolean?  @default(true)
  createdAt   DateTime? @default(now()) @db.Timestamp(0)
  updatedAt   DateTime? @default(now()) @db.Timestamp(0)
}

model data_processing_jobs {
  id                   Int                           @id @default(autoincrement())
  job_type             data_processing_jobs_job_type
  status               data_processing_jobs_status   @default(PENDING)
  started_at           DateTime?                     @db.Timestamp(0)
  completed_at         DateTime?                     @db.Timestamp(0)
  total_records        Int?                          @db.UnsignedInt
  processed_records    Int?                          @default(0) @db.UnsignedInt
  failed_records       Int?                          @default(0) @db.UnsignedInt
  error_message        String?                       @db.Text
  metadata             Json?
  created_at           DateTime?                     @default(now()) @db.Timestamp(0)
  updated_at           DateTime?                     @default(now()) @db.Timestamp(0)
  data_quality_reports data_quality_reports[]
  processing_metrics   processing_metrics[]

  @@index([created_at], map: "idx_jobs_created")
  @@index([status], map: "idx_jobs_status")
  @@index([job_type], map: "idx_jobs_type")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model data_quality_reports {
  id                   Int                              @id @default(autoincrement())
  job_id               Int?
  entity_type          data_quality_reports_entity_type
  entity_id            String                           @db.VarChar(50)
  quality_score        Decimal?                         @db.Decimal(5, 2)
  completeness_score   Decimal?                         @db.Decimal(5, 2)
  accuracy_score       Decimal?                         @db.Decimal(5, 2)
  consistency_score    Decimal?                         @db.Decimal(5, 2)
  timeliness_score     Decimal?                         @db.Decimal(5, 2)
  issues_found         Json?
  created_at           DateTime?                        @default(now()) @db.Timestamp(0)
  data_processing_jobs data_processing_jobs?            @relation(fields: [job_id], references: [id], onUpdate: NoAction, map: "data_quality_reports_ibfk_1")

  @@index([entity_type, entity_id], map: "idx_quality_entity")
  @@index([job_id], map: "idx_quality_job")
  @@index([quality_score], map: "idx_quality_score")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model espn_players {
  id                 Int                          @id @default(autoincrement())
  espn_id            String                       @unique(map: "espn_id") @db.VarChar(50)
  first_name         String                       @db.VarChar(100)
  last_name          String                       @db.VarChar(100)
  display_name       String                       @db.VarChar(200)
  short_name         String                       @db.VarChar(100)
  position           espn_players_position
  jersey_number      Int?                         @db.UnsignedTinyInt
  team_espn_id       String?                      @db.VarChar(50)
  height             Int?                         @db.UnsignedSmallInt
  weight             Int?                         @db.UnsignedSmallInt
  age                Int?                         @db.UnsignedTinyInt
  date_of_birth      DateTime?                    @db.Date
  college            String?                      @db.VarChar(200)
  experience         Int?                         @db.UnsignedTinyInt
  is_active          Boolean                      @default(true)
  is_rookie          Boolean                      @default(false)
  injury_status      espn_players_injury_status   @default(HEALTHY)
  injury_description String?                      @db.Text
  contract_status    espn_players_contract_status @default(UNKNOWN)
  salary             BigInt?
  created_at         DateTime?                    @default(now()) @db.Timestamp(0)
  updated_at         DateTime?                    @default(now()) @db.Timestamp(0)
  last_sync_at       DateTime?                    @db.Timestamp(0)
  player_draft_info  player_draft_info?
  player_headshots   player_headshots[]
  player_metadata    player_metadata[]
  player_statistics  player_statistics[]

  @@index([is_active], map: "idx_espn_players_active")
  @@index([espn_id], map: "idx_espn_players_espn_id")
  @@index([last_name, first_name], map: "idx_espn_players_name")
  @@index([position], map: "idx_espn_players_position")
  @@index([last_sync_at], map: "idx_espn_players_sync")
  @@index([team_espn_id], map: "idx_espn_players_team")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model espn_teams {
  id              Int       @id @default(autoincrement())
  espn_id         String    @unique(map: "espn_id") @db.VarChar(50)
  name            String    @db.VarChar(100)
  display_name    String    @db.VarChar(200)
  abbreviation    String    @db.VarChar(10)
  nickname        String?   @db.VarChar(100)
  city            String    @db.VarChar(100)
  state           String?   @db.VarChar(50)
  conference      String?   @db.VarChar(50)
  division        String?   @db.VarChar(50)
  color           String?   @db.VarChar(20)
  alternate_color String?   @db.VarChar(20)
  logo_url        String?   @db.Text
  is_active       Boolean   @default(true)
  created_at      DateTime? @default(now()) @db.Timestamp(0)
  updated_at      DateTime? @default(now()) @db.Timestamp(0)
  last_sync_at    DateTime? @db.Timestamp(0)

  @@index([abbreviation], map: "idx_espn_teams_abbreviation")
  @@index([conference, division], map: "idx_espn_teams_conference_division")
  @@index([espn_id], map: "idx_espn_teams_espn_id")
  @@index([last_sync_at], map: "idx_espn_teams_sync")
}

model player_draft_info {
  id             Int          @id @default(autoincrement())
  espn_player_id Int          @unique(map: "unique_player_draft")
  year           Int          @db.Year
  round          Int          @db.UnsignedTinyInt
  pick           Int          @db.UnsignedTinyInt
  team           String       @db.VarChar(100)
  overall        Int?         @db.UnsignedSmallInt
  created_at     DateTime?    @default(now()) @db.Timestamp(0)
  updated_at     DateTime?    @default(now()) @db.Timestamp(0)
  espn_players   espn_players @relation(fields: [espn_player_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "player_draft_info_ibfk_1")

  @@index([espn_player_id], map: "idx_draft_info_player")
  @@index([year], map: "idx_draft_info_year")
}

model player_headshots {
  id             Int          @id @default(autoincrement())
  espn_player_id Int
  url            String       @db.Text
  width          Int?         @db.UnsignedSmallInt
  height         Int?         @db.UnsignedSmallInt
  created_at     DateTime?    @default(now()) @db.Timestamp(0)
  updated_at     DateTime?    @default(now()) @db.Timestamp(0)
  espn_players   espn_players @relation(fields: [espn_player_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "player_headshots_ibfk_1")

  @@index([espn_player_id], map: "idx_headshots_player")
}

model player_metadata {
  id             Int          @id @default(autoincrement())
  espn_player_id Int
  meta_key       String       @db.VarChar(100)
  meta_value     String?      @db.Text
  created_at     DateTime?    @default(now()) @db.Timestamp(0)
  updated_at     DateTime?    @default(now()) @db.Timestamp(0)
  espn_players   espn_players @relation(fields: [espn_player_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "player_metadata_ibfk_1")

  @@unique([espn_player_id, meta_key], map: "unique_player_meta")
  @@index([meta_key], map: "idx_metadata_key")
  @@index([espn_player_id], map: "idx_metadata_player")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model player_statistics {
  id             Int                            @id @default(autoincrement())
  espn_player_id Int
  category       String                         @db.VarChar(50)
  stat_name      String                         @db.VarChar(100)
  stat_value     String                         @db.VarChar(100)
  season_year    Int?                           @db.Year
  season_type    player_statistics_season_type?
  created_at     DateTime?                      @default(now()) @db.Timestamp(0)
  updated_at     DateTime?                      @default(now()) @db.Timestamp(0)
  espn_players   espn_players                   @relation(fields: [espn_player_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "player_statistics_ibfk_1")

  @@index([category], map: "idx_statistics_category")
  @@index([espn_player_id], map: "idx_statistics_player")
  @@index([season_year, season_type], map: "idx_statistics_season")
  @@index([stat_name], map: "idx_statistics_stat")
}

model processing_metrics {
  id                   Int                   @id @default(autoincrement())
  metric_name          String                @db.VarChar(100)
  metric_value         Decimal               @db.Decimal(15, 4)
  metric_unit          String?               @db.VarChar(20)
  job_id               Int?
  execution_id         String?               @db.VarChar(36)
  recorded_at          DateTime?             @default(now()) @db.Timestamp(0)
  metadata             Json?
  data_processing_jobs data_processing_jobs? @relation(fields: [job_id], references: [id], onUpdate: NoAction, map: "processing_metrics_ibfk_1")
  workflow_executions  workflow_executions?  @relation(fields: [execution_id], references: [id], onUpdate: NoAction, map: "processing_metrics_ibfk_2")

  @@index([execution_id], map: "fk_metrics_execution")
  @@index([job_id], map: "idx_metrics_job")
  @@index([metric_name], map: "idx_metrics_name")
  @@index([recorded_at], map: "idx_metrics_recorded")
}

model roles {
  rid         Int       @id @default(autoincrement())
  roleName    String    @unique(map: "roleName") @db.VarChar(25)
  description String?   @db.VarChar(100)
  isActive    Boolean?  @default(true)
  createdAt   DateTime? @default(now()) @db.Timestamp(0)
  updatedAt   DateTime? @default(now()) @db.Timestamp(0)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model workflow_executions {
  id                    String                     @id @db.VarChar(36)
  workflow_id           String                     @db.VarChar(100)
  status                workflow_executions_status @default(PENDING)
  input_data            Json?
  output_data           Json?
  current_step          String?                    @db.VarChar(100)
  steps_completed       Int?                       @default(0) @db.UnsignedInt
  total_steps           Int                        @db.UnsignedInt
  error_message         String?                    @db.Text
  started_at            DateTime?                  @db.Timestamp(0)
  completed_at          DateTime?                  @db.Timestamp(0)
  created_at            DateTime?                  @default(now()) @db.Timestamp(0)
  updated_at            DateTime?                  @default(now()) @db.Timestamp(0)
  processing_metrics    processing_metrics[]
  workflow_step_results workflow_step_results[]

  @@index([created_at], map: "idx_workflow_created")
  @@index([workflow_id], map: "idx_workflow_id")
  @@index([status], map: "idx_workflow_status")
}

model workflow_step_results {
  id                  Int                          @id @default(autoincrement())
  execution_id        String                       @db.VarChar(36)
  step_id             String                       @db.VarChar(100)
  step_type           String                       @db.VarChar(50)
  status              workflow_step_results_status @default(PENDING)
  input_data          Json?
  output_data         Json?
  error_message       String?                      @db.Text
  started_at          DateTime?                    @db.Timestamp(0)
  completed_at        DateTime?                    @db.Timestamp(0)
  duration_ms         Int?                         @db.UnsignedInt
  created_at          DateTime?                    @default(now()) @db.Timestamp(0)
  workflow_executions workflow_executions          @relation(fields: [execution_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "workflow_step_results_ibfk_1")

  @@index([execution_id], map: "idx_step_execution")
  @@index([status], map: "idx_step_status")
}

model Job {
  id           Int        @id @default(autoincrement())
  type         String     @db.VarChar(100)
  payload      Json?
  status       Job_status @default(pending)
  createdAt    DateTime   @default(now())
  startedAt    DateTime?
  finishedAt   DateTime?
  cancelAt     DateTime?
  cancelReason String?    @db.VarChar(255)
  resultCode   String?    @db.VarChar(50)
  resultJson   Json?
  logs         JobLog[]

  @@index([status])
}

model JobLog {
  id        Int      @id @default(autoincrement())
  jobId     Int
  level     String   @db.VarChar(10)
  message   String   @db.Text
  createdAt DateTime @default(now())
  Job       Job      @relation(fields: [jobId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([jobId])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model Jobs {
  id             Int       @id @default(autoincrement())
  type           String    @db.VarChar(50)
  status         String    @default("PENDING") @db.VarChar(20)
  progress       Int?      @default(0)
  totalItems     Int?      @default(0)
  processedItems Int?      @default(0)
  parameters     Json?
  result         Json?
  error          String?   @db.Text
  createdBy      String?   @db.VarChar(100)
  createdAt      DateTime  @default(now()) @db.DateTime(0)
  startedAt      DateTime? @db.DateTime(0)
  completedAt    DateTime? @db.DateTime(0)
  updatedAt      DateTime  @default(now()) @db.DateTime(0)

  @@index([createdAt], map: "idx_created_at")
  @@index([status], map: "idx_status")
  @@index([type], map: "idx_type")
  @@index([type, status], map: "idx_type_status")
}

model espn_draft_picks {
  id                    Int       @id @default(autoincrement())
  espn_id               String    @unique(map: "espn_id") @db.VarChar(255)
  year                  Int
  round                 Int
  overall_pick          Int
  team_espn_id          String    @db.VarChar(255)
  player_espn_id        String?   @db.VarChar(255)
  player_name           String    @db.VarChar(255)
  position              String    @db.VarChar(10)
  college               String?   @db.VarChar(255)
  is_compensatory       Boolean?  @default(false)
  is_forfeited          Boolean?  @default(false)
  original_team_espn_id String?   @db.VarChar(255)
  notes                 String?   @db.Text
  is_active             Boolean?  @default(true)
  last_sync_at          DateTime? @db.DateTime(0)
  created_at            DateTime? @default(now()) @db.DateTime(0)
  updated_at            DateTime? @default(now()) @db.DateTime(0)

  @@index([player_espn_id], map: "idx_player")
  @@index([team_espn_id], map: "idx_team")
  @@index([year, round, overall_pick], map: "idx_year_round_pick")
}

enum data_processing_jobs_job_type {
  PLAYER_SYNC
  TEAM_SYNC
  FULL_SYNC
  VALIDATION
  ENRICHMENT
}

enum data_processing_jobs_status {
  PENDING
  RUNNING
  COMPLETED
  FAILED
  CANCELLED
}

enum data_quality_reports_entity_type {
  PLAYER
  TEAM
}

enum workflow_executions_status {
  PENDING
  RUNNING
  COMPLETED
  FAILED
  CANCELLED
}

enum workflow_step_results_status {
  PENDING
  RUNNING
  COMPLETED
  FAILED
  SKIPPED
}

enum espn_players_position {
  QB
  RB
  FB
  WR
  TE
  OL
  C
  G
  T
  DL
  DE
  DT
  NT
  LB
  MLB
  OLB
  DB
  CB
  S
  FS
  SS
  K
  P
  LS
}

enum player_statistics_season_type {
  REGULAR
  PLAYOFFS
  PRESEASON
}

enum espn_players_injury_status {
  HEALTHY
  QUESTIONABLE
  DOUBTFUL
  OUT
  INJURED_RESERVE
  PHYSICALLY_UNABLE_TO_PERFORM
  NON_FOOTBALL_INJURY
  SUSPENDED
}

enum espn_players_contract_status {
  SIGNED
  UNSIGNED
  FRANCHISE_TAG
  TRANSITION_TAG
  PRACTICE_SQUAD
  FUTURES_CONTRACT
  UNKNOWN
}

enum Job_status {
  pending
  in_progress
  completed
  failed
  canceled
}

enum Game_gameStatus {
  scheduled
  in_progress
  completed
  postponed
  canceled
}
